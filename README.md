# Face Recognition API

這是一個使用 **FastAPI** + **dlib / face_recognition** 建立的人臉辨識 API 專案。

專案結構：

FaceRecognitionAPI/
├─ app/
│ ├─ main.py # FastAPI 主程式，負責 API 路由
│ ├─ face_rec.py # 人臉辨識核心程式，負責產生人臉向量
│ ├─ known_faces.py    # 已知人臉初始化程式
│ └─ init.py # 空檔案，用來讓 Python 將 app 當成套件(package)
├─ requirements.txt # 套件清單
├─ .gitignore
└─ README.md

## **安裝**

1. 進入專案資料夾：
cd C:\Users\User\Desktop\FaceRecognition\FaceRecognitionAPI
啟用虛擬環境（假設你已經有 venv311）：


C:\Users\User\Desktop\FaceRecognition\venv311\Scripts\activate
安裝套件：
pip install -r requirements.txt

檔案說明
app/main.py
FastAPI API 主程式，定義路由 /recognize-face，上傳圖片後回傳人臉向量。

app/face_rec.py
核心人臉辨識功能，使用 face_recognition 讀取圖片並計算人臉向量。

app/init.py
空檔案，告訴 Python 這個資料夾是一個套件（package），可以被 import 使用。

requirements.txt
記錄專案需要安裝的 Python 套件。

.gitignore
忽略版本控制不必要的檔案，例如虛擬環境、快取檔案等。

啟動 API（本地測試）
uvicorn app.main:app --reload
app.main:app → 指的是 app/main.py 裡面的 app 物件
--reload → 讓程式碼修改後自動重啟

打開瀏覽器訪問 http://127.0.0.1:8000/docs
可以使用 Swagger UI 測試上傳圖片的人臉辨識功能。

使用說明
上傳圖片（JPEG/PNG）

API 會回傳：

face_count：偵測到的人臉數量

encodings：每個人臉的 128 維向量，可用於比對身份或訓練模型



{
  "face_count": 1,
  "encodings": [
    [
      -0.10292210429906845,
      0.046881817281246185,
      0.04360498487949371,
      -0.06023695692420006,
      -0.123600535094738,
      0.12200595438480377,
      -0.0875958725810051,
      -0.05572667717933655,
      0.21453611552715302,
      -0.1059737503528595,
      0.1176309660077095,
      0.07012491673231125,
      -0.28003349900245667,
      0.03889612853527069,
      0.04720572009682655,
      0.0822175070643425,
      -0.15040706098079681,
      -0.05948556587100029,
      -0.144489124417305,
      -0.07331255078315735,
      -0.029016071930527687,
      0.041090283542871475,
      0.004478235263377428,
      -0.06606712937355042,
      -0.11834847927093506,
      -0.33227765560150146,
      -0.17975398898124695,
      -0.09344300627708435,
      0.06467999517917633,
      -0.13161620497703552,
      0.014930471777915955,
      -0.040184151381254196,
      -0.15700839459896088,
      -0.030471453443169594,
      0.027011893689632416,
      0.04883112758398056,
      -0.06293325871229172,
      -0.08169379830360413,
      0.12876838445663452,
      -0.00407381122931838,
      -0.09623105823993683,
      -0.06597014516592026,
      0.06194294989109039,
      0.16270481050014496,
      0.17264464497566223,
      0.050287432968616486,
      0.002688473090529442,
      -0.05497794598340988,
      0.09790565073490143,
      -0.2633080780506134,
      0.06466445326805115,
      0.15153644979000092,
      0.12595385313034058,
      0.13633494079113007,
      0.11677579581737518,
      -0.09763315320014954,
      0.10837855935096741,
      0.15399505198001862,
      -0.20364226400852203,
      0.16210995614528656,
      0.09010312706232071,
      -0.0691811665892601,
      -0.10072033852338791,
      0.08561578392982483,
      0.21613241732120514,
      0.14598335325717926,
      -0.12728169560432434,
      -0.1739233136177063,
      0.14156672358512878,
      -0.15352271497249603,
      0.0017556617967784405,
      0.051195770502090454,
      -0.14416924118995667,
      -0.2258966565132141,
      -0.20217037200927734,
      0.033834584057331085,
      0.44023385643959045,
      0.1263124942779541,
      -0.18892617523670197,
      -0.026406273245811462,
      -0.05834565684199333,
      -0.1026400551199913,
      0.03409436345100403,
      0.10136086493730545,
      -0.0972665473818779,
      -0.1031976118683815,
      -0.018109813332557678,
      0.11507754772901535,
      0.2416449338197708,
      -0.01940351165831089,
      0.050912678241729736,
      0.2569906711578369,
      0.03704347461462021,
      0.01166228111833334,
      -0.006548705976456404,
      0.07696712762117386,
      -0.03861870616674423,
      -0.090152308344841,
      -0.056302234530448914,
      -0.01828688383102417,
      0.10622935742139816,
      -0.10631821304559708,
      -0.015688441693782806,
      0.1028972789645195,
      -0.14815875887870789,
      0.2034922093153,
      0.008071085438132286,
      -0.051808688789606094,
      0.04909555986523628,
      -0.07438793778419495,
      -0.09664826840162277,
      -0.03124218061566353,
      0.25893691182136536,
      -0.24944615364074707,
      0.19791151583194733,
      0.21465767920017242,
      -0.02684101089835167,
      0.07286393642425537,
      -0.03743613138794899,
      0.1207827478647232,
      0.05428522825241089,
      0.0043785953894257545,
      -0.15779297053813934,
      -0.0751522034406662,
      -0.043520405888557434,
      -0.09896862506866455,
      -0.08555283397436142,
      -0.015095598995685577
    ]
  ],
  "identities": [
    "SamAltman"
  ]
}